```text
出处 [1] [PDF/B-64695CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64695CM_01.PDF) 

翻页键
上下滚动画面。
光标键
上下滚动ID 信息的选择。
(※1)
参照模式：参数IDW(No.13112#0)=0 的情形
(※2)
编辑模式：参数IDW=1 的情形
(※3)
画面所显示的ID 信息与实际ID 信息不一致的项目，在下列项目的左侧显示“＊”。
(※4)
参数IDC(No.11320#1)=1 的情形
图9.1.5 (d) 编辑画面上的操作
B
64695CM/01
10. 故障排除步骤
477
10
故障排除步骤
本章就CNC 一侧的故障排除步骤进行描述。
10.1
发生故障时的处理方法
为在发生故障的情况下尽快恢复，最为重要的是要正确把握故障情况，进行适当的处理。因此，请按照下面描述的项目
确认故障情况。
何时？
在何种操作时？
发生什么故障？
掌握故障状况
↓
适当的处理
↓
恢复
10.1.1
检查故障发生情况
① 什么时候/发生几次（发生频率）
② 在执行什么样的操作时
③ 发生了什么样的故障？
对上述事项进行检查。
另外，系统报警的情况下，请按照10.24 节获取系统报警信息。
①  故障是在“什么时候”发生的？
发生故障的日期和时刻？
是在运行时发生的吗？（是在运行几个小时后发生的？）
是在通电时发生的吗？
发生故障时是否有雷击或停电等影响电源的外部干扰因素？
故障发生了“几次”？
是否只发生过一次？
是否发生过多次？（发生频率为：？次/小时，？次/日、？次/月）
②  是在执行“什么样的操作时”发生的？
故障发生时NC 处在什么模式？
(JOG 模式/存储器模式/MDI 模式/参考点返回模式)
程序运行时的情况···

出处 [2] [PDF/B-64695CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64695CM_01.PDF) 

机床报警发生
报警原因是什么？
ATC 异常？
刀具损坏？
冷却液不足？
可以在故障诊断指南画面
上确定原因。
B
64695CM/01
1. 画面的显示和操作
209
1.16.2
可追加的报警和操作信息的种类
可追加到故障诊断信息中的机械侧的报警和操作信息如下所示。
1.
外部报警
2.
宏报警
3.
外部操作信息
1.16.3
可诊断的编号
机械侧的报警和操作信息中，可在故障诊断指南画面上诊断的报警编号和信息编号如下所示。
1.
外部报警
表1.16.3 (a)  可诊断的报警编号（外部报警）
参数EXA(No.6301#0)
=0
=1
报警编号
1000～1999
0～4095
2.
宏报警
表1.16.3 (b)  可诊断的报警编号（宏报警）
参数MCA(No.6008#1)
=0
=1
报警编号
3000～3200
0～4095
3.
外部操作信息
表1.16.3 (c) 可诊断的信息编号（外部操作信息）
参数EXM(No.6301#1)
=0
=1
信息编号
2000～2999
0～4095
注释
1
外部操作信息中可诊断的信息编号，取决于参数No.6310 的设定。
2
上述可诊断的编号处于CNC 画面上所显示的编号范围内，与各功能中实际设定的编号不同。
有关各功能中实际设定的编号，请参阅如下说明书。
外部报警/外部操作信息
PMC 编程说明书(B
64513EN)“CNC 功能相关的命令”
宏报警
操作说明书（车床系统/加工中心系统通用）(B
64694CM)“用户宏程序”
1. 画面的显示和操作
B
64695CM/01

出处 [3] [PDF/B-64694CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64694CM_01.PDF) 

Block restart
分配量
脉冲分配中分配的脉冲量。
Distribution amount
反演功能
将手动运行中移动的刀具位置作为指令位置，编制程序的
功能。
Playback function
可编程参数输入
通过程序可变更参数值的功能。用于设定螺距误差补偿数
据、加工条件变更导致的最大切削速度和切削时间常数的
变更等。
Programmable
parameter input
可编程镜像
可以对镜像进行编程的功能。
Programmable mirror
image
程序
在本操作说明书中，一般是指为了可以直接操作CNC，通
过语言或格式，有顺序地排列起来的指令的集合。如果表
示其他的程序含义时，例如，以对话型编制的程序，大部
分使用可识别为对话型程序的描述。
Program
程序结尾
表示主程序结尾的辅助功能。
Program end
程序代码
用于数控的信息交换用符号。
Program code
程序代码结尾
表示一个程序文件最后的符号。
Program code end
程序代码开头
表示一个程序文件开头的符号。
Program code start
程序格式
是指指令格式（含义请参考“指令格式”）。
Command format
编程路径
通过刀具长度补偿、刀具径补偿等未能进行补偿时，通过
切削刀具特定的点绘制的路径。在程序中，独立指定程序
路径和刀具长度补偿、刀具径补偿等。CNC 按照补偿指令
对程序路径进行补偿，补偿后则变为刀具路径。
Programmed path
程序再启动
从程序运行中途的程序段开始重启动自动运行的功能。

出处 [4] [PDF/B-64694CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64694CM_01.PDF) 

No（未登录）
是否为登录到料盘中的刀具？
（料盘号是否为0？）
Yes（登录）
No（对象外）
料盘是否为检索对象？
（参数（No.13203#0～#3）的设定是否为0？）
Yes（对象）
Yes（登录）
是否登录在其他路径的主轴位置或是待机位置？
No（未登录）
Yes（不管理）
No（对象外）
不管理，但是否为检索对象的刀具？
（刀具信息的位4 SEN 是否为1？）
Yes（对象）
检索结束
No（管理）
刀具寿命状态是否为“不进行寿命管理(0)”？
B-64694CM/01
编程
10. 刀具功能（T 功能）
153 -
Yes（已用尽）
刀具寿命状态是否为“寿命已尽(3)”？
No（未用尽）
Yes（折损）
刀具寿命状态是否为“刀具折损(4)”？
No（未折损）
下一刀具的检查
检索结束
将剩余寿命或自定义数据数值较小的一方作为候选项。
参数SWC(No.13203#6)
0：剩余寿命的检查
1：自定义数据的检查
系统变量
当前由M06 更换并作为主轴使用的刀具、以及由T 代码指定的与下一个使用刀具相关的下列刀具管理数据，可以通过
用户宏程序变量读取。
使用中
项目
#8401
刀具管理数据号
#8402
刀具种类号（T）
#8403
刀具寿命计数器
#8404
最大刀具寿命值
#8405
刀具预告寿命值
#8406
刀具寿命状态
#8407
自定义数据0(位)
#8408
刀具信息
#8409
刀具长度补偿号（H）
#8410
刀具径补偿号（D）
#8411
主轴转速（S）
#8412
切削进给速度（F）
#8413

出处 [5] [PDF/B-64694CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64694CM_01.PDF) 

通过设定参数（No.6036）（#100～#149(#199, #499)）、参数（No.6037）（#500～#599(#999)），可以使用户宏程序公
共变量（#100～#149(#199, #499)、#500～#599(#999)）的一部分或者全部在全系统中通用。进一步地，通过对应参数
（No.6036）的参数NC1(No.6020#0)、对应参数（No.6037）的参数NC2(No. 6020#1)的设定，即可选择是否与每个系统
通用。
〔例〕
将系统通用型参数（No.6036）设定为20。
但是，若仅第4 路径不打算反映参数(No.6036)的设定时，进行如表16.1(a)所示的设定。
表16.1 (a)
路径号
No.6036
NC1
使用的用户宏程序变量的区域
1
20
0
#100～#119 为路径间通用，
其他各路径独立
2
0
3
0
4
1
路径4 全部独立
16. 用户宏指令
编程
B-64694CM/01
326 -
 系统变量
系统变量是在系统中其用途被固定的变量。其属性共有3 类：只读、只写、可读/写，根据各系统变量而属性不同。
 系统常量
我们为用户准备了其值不变的常量，用户可以与变量一样地引用这些常量。系统常量的属性为只读。
 小数点的省略
在程序中定义变量值时，可省略小数点。
〔例〕#1=123；的含义是：变量#1 的实际值是123.000。
 变量的引用
可以用变量指定紧接地址之后的数值。如果编制一个＜地址＞#i 或＜地址＞-#i 的程序，则意味着原样使用变量值，
或者将其补码作为该地址的指令值。

出处 [6] [PDF/B-64694CM_01.PDF](http://127.0.0.1:7861/knowledge_base/download_doc?knowledge_base_name=Fanuc%E6%95%B0%E6%8E%A7%E6%9C%BA%E5%BA%8A&file_name=PDF%2FB-64694CM_01.PDF) 

注释
1
“＊”作为控制代码使用，所以不能使用于项目名称。
此外，“［”,“］”,“(”,“)”的字符，也无法作为项目名称来使用。
2
登录了英文数字和2 字节字符混合在一起的项目名称时，
即使在最大登录字符数以下，
有时也会有
“数据超限”
告警发出。
3
在机床系统的画面上选择空白的项目名称时，发出告警“不允许编辑”。
要删除项目名称的登录内容时，将光标移动到希望删除的项目名称，按下软键［删除］后，按下软键［执行］。
B-64694CM/01
操作
12. 显示和设定数据
1253 -
NC 系统菜单画面
可以从这一画面上向状态画面登录项目名称。向状态画面的登录方法，请参照状态画面的说明。
图12.4.11 (d) NC 系统菜单画面
显示步骤
1.
在显示有状态画面的状态下，按下软键［数控］。
注释
无法进行NC 系统菜单画面上的项目名称的登录、删除以及输入输出。
选择空白的项目名称时，设定空白。
12. 显示和设定数据
操作
B-64694CM/01
1254 -
12.4.12 系统配置画面
通过显示系统配置画面，可以了解安装的硬件和软件的种类。
显示步骤
1
按下功能键
，显示参数等的画面。
2
按下软键［系统］，出现系统配置画面。
系统配置画面上，有两类画面：硬件配置画面和软件配置画面，可通过
进行变更。此外，通过按下软键［伺
服信息］、［主轴信息］，即可浏览所连接的伺服、主轴的信息。
图12.4.12 (a) 系统配置画面
硬件配置画面
显示NC 所使用的硬件的名称、ID。
图12.4.12 (b) 硬件配置画面
B-64694CM/01
操作
```
