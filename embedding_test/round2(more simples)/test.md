# EMBEDDING TEST
## 对比格式为图片pdf以及md,内容相同.以下称A为md,B为pdf.

### 问题列表:
- "如何设置IS620F伺服驱动器的电子齿轮比？请说明具体参数编号和计算公式。"
    - A:[1A.md](test/1A.md)
    - B:[1B.md](test/1B.md)
- "根据安全注意事项章节，主回路电源线接线时必须遵守哪三条抗干扰配线原则？"
    - A:[2A.md](test/2A.md)
    - B:[2B.md](test/2B.md)
- "当驱动器显示E201故障时，可能的原因是什么？手册中建议的排查步骤有哪些？"
    - A:[3A.md](test/3A.md)
    - B:[3B.md](test/3B.md)
- "在配置IS620F与西门子S7-1500的Profinet通信时，如何通过GSD文件添加111报文？需要设置哪些关键参数？"
    - A:[4A.md](test/4A.md)
    - B:[4B.md](test/4B.md)
- "手册中对伺服电机轴端安装联轴器时的定心精度要求是什么？允许的最大偏心误差是多少毫米？"
    - A:[5A.md](test/5A.md)
    - B:[5B.md](test/5B.md)
### 测试结果:
PDF与Markdown格式在RAG系统中的效果与速度对比分析

---

**一、信息完整性对比**

| 维度         | PDF格式优势                                                                 | MD格式局限性                                                                 |
|--------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------|
| 技术参数  | 保留完整参数公式（如电子齿轮比公式）、编码器分辨率等数值型数据，参数编号体系完整          | 简化表达式，丢失参数细节（如H05-07/H05-09简化为H05组参数）                        |
| 安全规范  | 完整保留安全警示图标、分级标识（危险/警告/注意）和ESD处理步骤                          | 转为普通列表项，丢失风险等级标识，静电防护描述简化                                          |
| 图表内容  | 包含配线实例图、流程图等可视化内容（如图4-21抗干扰配线实例），支持图表编号检索             | 图表转为文字描述，无法直接检索图像信息                                                |
| 故障排查  | 详细描述故障机理（如E500过速故障的5种原因），提供示波器波形分析建议                     | 仅列出主要原因（如参数错误或硬件故障），缺乏诊断工具指引                                      |

---

**二、检索效率对比**

| 维度         | PDF格式优势                                                                 | MD格式局限性                                                                 |
|--------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------|
| 定位精度  | 通过页码（如第247页）、章节编号精准定位，支持图表编号检索（如“图7-9添加报文111”）           | 依赖标题层级定位，缺乏结构化编号，定位精度较低                                            |
| 关键词覆盖| 保留原始术语（如“电子齿轮比分母H05-09”），支持专业术语精确匹配                              | 术语可能被简化（如“编码器分辨率”转为“电机分辨率”），影响专业场景检索效果                            |
| 跨文档关联| 支持参数互引（如“参考H0F-00参数”），保持技术文档的交叉引用完整性                             | 超链接和参数引用可能丢失，降低技术细节的关联性                                            |

---

**三、处理速度对比**

| 维度         | 实测数据                                                                   | 分析结论                                                                   |
|--------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------|
| 单次检索耗时 | 知识库匹配结果中MD平均0.5秒（文档1~7），PDF平均0.6秒（如文档7用时0.59秒）                    | 格式本身对速度影响较小，耗时差异主要来自内容解析复杂度（PDF需处理图像/表格）                            |
| 批量处理效率 | MD文档预处理时间更短（无图像解析），但PDF的结构化数据更易被向量化引擎高效索引                      | 工程场景推荐PDF作为主知识库，MD作为快速查阅补充                                           |

---

**四、典型场景对比分析**
1. 电子齿轮比设置

   • PDF  

     ◦ 完整公式：`电子齿轮比=编码器分辨率×H05-07/(H05-09×10000)`  

     ◦ 参数示例：`H05-07=8388608, H05-09=10000`  

   • MD  

     ◦ 简化描述：“设置H05-07为编码器分辨率，H05-09为指令单位分母”  

     ◦ 影响：工程师需额外查阅手册确认参数，降低配置效率。


2. Profinet配置

   • PDF  

     ◦ 10个配置步骤含截图（图7-9~图7-14），硬件标识符查找流程可视化  

   • MD  

     ◦ 纯文字步骤：“1. 添加报文111 2. 设置IP...”  

     ◦ 影响：新手需反复试错，增加调试时间。


3. 故障处理（E500过速）

   • PDF  

     ◦ 5种原因分析+示波器监控建议：“用汇川驱动调试平台查看速度反馈波形”  

   • MD  

     ◦ 简化为：“可能原因：参数设置错误或硬件故障”  

     ◦ 影响：维护人员无法快速定位具体故障源。


---

**五、实践建议**
1. 优先使用PDF的场景  

   • 精确参数配置（如伺服增益调整）  

   • 安全规范审查（需完整警示标识）  

   • 故障深度诊断（依赖机理描述）  


2. MD适用场景  
   • 已知流程的快速步骤回顾（如日常维护检查表）  

   • 移动端轻量化查阅（无复杂图表时）  


3. 混合部署方案  
   • 主知识库：PDF存储原始技术文档，保障数据完整性  

   • 速查库：MD生成关键参数速查表（补充PDF编号体系）  

   • 增强MD：添加注释链接（如“详见PDF第45页图4-10”）


---

**六、总结**
PDF格式在技术文档场景中保持绝对优势，尤其在参数准确性、安全规范完整性和故障诊断深度上；而MD适合轻量化快速检索。建议企业级RAG系统以PDF为核心，MD作为辅助，通过元数据关联实现高效知识管理。