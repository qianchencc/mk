```text
知识库匹配结果(共匹配到7条信息,已用时0.63秒)

出处 [1] 精细化结果.md
7.2.1 概述

西门子S7-200 Smart、S7-1200、S7-1500 PLC 可以通过Profinet与伺服驱动器进行速度控制。采用Profinet RT通讯方式并使用标准报文1，PLC进行启停和速度给定，速度控制计算在伺服驱动器内。
7.2.2 配置要点

    用通讯网线将PC与IS620F伺服驱动器的CN3或者CN4端口连接，打开后台调试软件中的网络配置，根据图示操作设置伺服的设备名称与IP地址。
    IS620F GSD文件安装：打开PLC编程软件 → 选项 → 管理通用站描述文件。
    选择“设备与网络”，在网络视图中导入IS620F并建立与PLC的连接。
    在设备视图中双击IS620F，添加报文1。
    查找硬件标识符：选择报文1 → 右键属性 → 系统常数 → 硬件标识符。
    在OB1中将SINA_Speed（FB285）功能块拖拽到编程网络中。
    注意在设备视图中，组态配置的IP地址与设备名称需要与之前用后台设置的伺服IP地址与设备名称保持一致。

7.3 AC3模式
7.3.1 概述

S7-1200、1500 PLC 可以通过 Profinet 通讯连接 IS620F 伺服驱动器，将驱动器的控制模式设置为“基本位置控制（EPOS）”。PLC 通过 111 报文及 TIA Portal 提供的驱动库中的功能块 SINA_POS（FB284）实现基本定位控制。
7.3.2 配置要点

    在网络视图中添加IS620F设备并创建与PLC的网络连接。

2. 删除3号报文，更换为报文111。
添加报文111

出处 [2] 精细化结果.md
7.3.2 配置要点

    在网络视图中添加IS620F设备并创建与PLC的网络连接。

2. 删除3号报文，更换为报文111。
添加报文111
3. 设置PLC以及IS620F的IP地址、Profinet设备名称。
组态配置IP地址与设备名称
4. 在主程序中应用SinaPOS功能块
调用SinaPOS功能块
功能块管脚HWI DSTW及HWI DSZW的赋值

设备视图 → 双击"IS620F" → 右键“111报文”选择"属性"。
6. 在系统常数中找到硬件标识符
查找硬件标识符

    若需要开启转矩限制与转矩读取功能，需要将 H0E-38、H0E-39 设为 1。

转矩功能设置
报文组态配置完成
7.3.3 报文回零模式
H13-30=1 （原点：电机Z信号；减速点：反向超程开关）

    回零启动时减速点信号无效
    开始回零时 (N-OT=0)，以反向高速开始回零，遇到N-OT上升沿后，减速，反向，正向低速运行，遇到N-OT下降沿后的第一个Z停机。
    图中“H”代表高速H13-31，“L”代表低速H13-32。

回零启动时减速点信号有效

    回零启动时 (N-OT=1)，直接正向低速开始回零，遇到N-OT 下降沿后的第一个Z停机。

H13-30=2 （原点：电机Z信号；减速点：正向超程开关）

    回零启动时减速点信号无效
    开始回零时 (P-OT=0)，以正向高速开始回零，遇到P-OT上升沿后，减速，反向，反向低速运行，遇到P-OT下降沿后的第一个Z停机。

出处 [3] 精细化结果.md

Profinet是由Profinet国际组织推出的基于工业以太网技术的自动化总线标准，Profinet提供两种实时通信：Profinet IO RT 和 Profinet IO IRT。 在Profinet IO RT通道中，实时数据通过优先以太网进行传输，没有特殊的硬件要求。 在Profinet IO IRT通道中，适用于传输具有更加精确时间要求的数据，其循环周期可达 250μs250μs，但需要具有特殊硬件的IO设备和开关的支持。 所有的诊断和配置数据通过非实时通道进行传输。
7.1 报文总览
7.1.1 支持的报文

IS620F支持AC1、AC3和AC4的应用，在速度控制模式和基本定位器控制模式下支持标准报文和西门子报文，辅助报文仅可跟主报文一起使用，不能单独使用。从驱动设备的角度看，接收到的过程数据是接收字，待发送的过程数据是发送字，详细说明如下表所示。

出处 [4] 精细化结果.md

| 2021年11月 | C01 | 修改第五章：增加报文2、850；5.1.1报文总览、5.1.2 I/O数据信号、5.1.3控制字定义、5.1.4状态字定义的内容完善。参数表信息完善。细小勘误。 | | 2021年02月 | COO | 增加第5章“调整”。删除原“4.4 Profinet通讯、4.6.6 IS620F配合西门子S7-1500实现AC4同步周期速度模式运行、4.6.7 IS620F配合西门子S7-1500实现AC3基本定位模式运行”章节。删除增量型编码器信息。增加第6章“Profinet通讯（包含报文总览、AC1模式、AC3模式、AC4模式）”。增加“4.6 IS620F后台调试”章节。增加参数一览表：HOC组通讯参数、H1C组PN报文设定值、H1D组PN报文实际值。优化H02-00、H02-11、H02-33、H03-06、H03-08、H03-10、H03-12、H03-16、H06-04、H06-07、H06-16、H06-17、H06-18、H06-19、H07-19、H07-20、H09-00、H09-06、H0A-19、H0A-20、H0B-11、HOB-37、H0B-55、H0D-03、H0E-32、H0E-35、H0E-36、HOE-41、H0E-42、H0E-43参数信息。删除H02-15、H02-18、H02-34、H04-06、H04-07、H04-08、H04-09、H05-01、H05-02、H05-04、H05-05、H05-06、H05-11、H05-13、H05-15、H06-08、H06-09、H0E-20、H0E-21、H0E-28、H0E-29参数信息。参数一览表删除相关模式、增加数据类型信息。 |

出处 [5] 精细化结果.md
POS_ZSW2 状态字（用于报文111）
信号	描述
POS_ZSW2.0	1=跟踪模式生效
POS_ZSW2.1	1=速度限制生效
POS_ZSW2.2	1=设定值可用
POS_ZSW2.3	保留
POS_ZSW2.4	1=轴正向移动 0=轴未移动
POS_ZSW2.5	1=轴反向移动 0=轴未移动
POS_ZSW2.6	1=达到负向软限位开关 0=未达到负向软限位开关
POS_ZSW2.7	1=达到正向软限位开关 0=未达到正向软限位开关
POS_ZSW2.8	1=位置实际值≤限位开关位置1
POS_ZSW2.9	1=位置实际值≤限位开关位置2
POS_ZSW2.10	1=通过运行程序段设置的直接输出1
POS_ZSW2.11	1=通过运行程序段设置的直接输出2
POS_ZSW2.12	1=已到达固定停止点
POS_ZSW2.13	1=已到达固定停止点夹紧扭矩
POS_ZSW2.14	1=运行到固定停止点生效
POS_ZSW2.15	保留
7.2 AC1模式
7.2.1 概述

西门子S7-200 Smart、S7-1200、S7-1500 PLC 可以通过Profinet与伺服驱动器进行速度控制。采用Profinet RT通讯方式并使用标准报文1，PLC进行启停和速度给定，速度控制计算在伺服驱动器内。
7.2.2 配置要点

出处 [6] 精细化结果.md
7.1.1 支持的报文

IS620F支持AC1、AC3和AC4的应用，在速度控制模式和基本定位器控制模式下支持标准报文和西门子报文，辅助报文仅可跟主报文一起使用，不能单独使用。从驱动设备的角度看，接收到的过程数据是接收字，待发送的过程数据是发送字，详细说明如下表所示。
报文	最大PZD数目 (一个PZD=一个字)
标准报文1	2
标准报文2	4
标准报文3	5
西门子报文102	6
西门子报文105[1]	10
西门子报文111	12
西门子报文750 (辅助报文)	3
汇川报文850 (辅助报文)	1
[1]：-RT机型不支持“西门子报文105”。	
用于速度控制模式的报文

出处 [7] 精细化结果.md
7.4.2 配置要点

    组态IS620F，添加报文3。

2. 在网络视图中将PLC与IS620F连接
连接网络视图

    若需要PLC与IS620F进行IRT通讯，则拓扑视图必须连接，同时实际的物理连接要与组态的一致。若只是进行RT通讯（默认），则拓扑视图可以不用连接。

连接拓扑视图

    RT机型仅支持RT通信协议，不支持IRT通信协议。

4. 添加工艺对象
5. 在组态配置中选择“Profidrive”与“标准报文3”
6. 编码器类型选择

    若 102−01=0102−01=0 （增量位置模式），则编码器类型选择“增量”。
    若 102−01=1102−01=1 （绝对位置线性模式），则编码器类型选择“循环绝对编码器”。

7. 驱动器参数设置

    若电机的参考速度、最大速度、基准扭矩不能勾选“运行时自动应用驱动值”，需要根据驱动器参数手动设置。
    参考速度为电机的额定转速，对应伺服参数H00-14。
    最大转速对应伺服参数H00-15。

8. 与编码器进行数据交换

    可勾选“运行过程中自动应用编码器值”。
    若不勾选“运行过程中自动应用编码器值”：
        若 −102−01=0−102−01=0 （增量位置模式），编码器类型选择“增量”。
        若 H02-01=1（绝对位置线性模式），编码器类型选择“循环绝对编码器”。

9. 扩展参数设置

    编码器安装类型选择“在电机轴上”，并设置位置参数。

10. 跟随误差监控

    可关闭“启用跟随误差监控”选项，若勾选且跟随误差设置较小情况下，使能运行时上位机容易报错。

在主程序中编写程序

```
